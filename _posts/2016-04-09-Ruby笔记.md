---
layout: post
category: Ruby
title: Ruby笔记
tagline: by Archer
tags:
- Ruby

---

1. Variables

local variable: begins with a lowercase letter or _

instance variables: @开头，instance变量

class variables: @@开头，类变量

global variables: $

constant :全大写

2. String替换符

双引号允许替换，单引号不允许替换，backslash notation只适用于\\和\'(比如单引号中\n就不能用，双引号中就可以体现换行)

\# puts "Customer id #@cust_id"

puts "Customer id #{1+2+3}"

3.Range
(1..5)表示1到5包含5，(1...5)表示1到5不包含5

4. Operators and expressions

defined? 用于检查该方法是否被定义了

5.类相关

Ruby中没有main，不在class..end和module..end中的方法都被载入时自动执行，context是一个special的main（class为Object）

::用于取modoule或者class中的constant（成员变量），.用于调用类中定义的方法, ::不加prefix默认取全局的main

defined? x 用于返回对某个东西的描述
6.Control

if conditional [then]

end

while conditional [do]

end

next

break

retry，如果放在rescue里就会重新跑到block开头执行，如果放在loop里就会重新初始化loop的iterator

case expr0
when expr1, expr2
   stmt1
when expr3, expr4
   stmt2
else
   stmt3
end

7. Blocks
Block用{}或者do end 包含起来，可以有名字，传参数，method通过yield来调用block

8. Range
(0...10).each 将一个range转换成一个enumerator class

在集合上面调用each总要跟着一个block，来对集合内的元素进行某个操作，collect则返回全部集合元素，可以不跟着block，跟着block则可以用于对集合中的元素每个进行操作并且返回一个操作后的结果集合


9.Module
主要有class方法，也可以有instance方法，可以用来实现多继承

使用Mixin实现interface的效果

class Song
  include Comparable
  def <=>(other)
    self.duration <=> other.duration
  end
end

多态，根据具体指向的不同

10.继承和多态

Java使用extends和interface来实现多态，当没有很多的复用代码时，可以用interface实现多态，以实现对于同一个method的不同反应

对于其他的动态语言，比如Ruby，可以用Duck Typing来实现多态，class不用继承于同一个类，只需要有同名的方法就可以

11.字符集和字符编码

字符集是字符的集合，常见字符集有ASCII,ISO8859,GB2312(中文)，Unicode

字符编码是以二进制的数字来对应字符集的字符
